@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root { height: 100%; }
html, body { overflow-x: auto; }

/* Custom animations */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #1e293b;
}

::-webkit-scrollbar-thumb {
  background: #475569;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* Table readability defaults */
table {
  table-layout: fixed; /* default for generic tables */
  border-collapse: separate; /* separate to allow cell spacing */
  border-spacing: 0; /* we will control spacing via padding and line-height */
}
table th, table td {
  word-break: normal;
  overflow-wrap: normal;
  white-space: nowrap;
  line-height: 1.6rem; /* increased for clarity */
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

/* Data preview tables: show full words with horizontal scrolling */
.data-table {
  table-layout: auto; /* allow cells to size to content */
  width: max-content; /* expand table to fit content so container scrolls */
}
.data-table th, .data-table td {
  overflow: visible;
  text-overflow: clip;
  min-width: 160px; /* prevent columns from collapsing too narrowly */
}

/* Results view: denser table, wrap long content to avoid overlap */
.results-table {
  width: max-content;
  table-layout: auto;            /* allow natural column sizing */
}
.results-table th, .results-table td {
  font-size: 11px;            /* more compact text */
  line-height: 1.25rem;       /* tighter line height */
  padding-top: 0.25rem;       /* reduce vertical padding */
  padding-bottom: 0.25rem;
  min-width: 100px;           /* slightly narrower columns */
  white-space: nowrap;        /* keep single line to avoid stacking */
  word-break: normal;
  overflow-wrap: normal;
}

.results-scroll {
  overflow-x: auto;              /* force horizontal scroll if needed */
  width: 100%;
  max-width: 100%;
  -webkit-overflow-scrolling: touch;
  scrollbar-gutter: stable both-edges;
  display: block;
}

/* Guard: prevent parent wrappers from hiding columns */
.results-scroll > table, .results-table {
  max-width: none;               /* don't clamp table width */
}

/* Ensure parent regions don't cause overlay artifacts */
.results-scroll, .results-table { 
  background-color: #0b1220; /* solid dark to block gradients */
}

/* Readable JSON/pre blocks for history/details */
.pre-json {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: break-word;
  background: rgba(15, 23, 42, 0.6);
  color: #e5e7eb;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid rgba(100, 116, 139, 0.35);
}

/* Ensure hero/purple background stays behind results */
.hero, .purple-section {
  z-index: 0;
}

/* Allow truncation with ellipsis where Tailwind classes are applied */
.text-ellipsis {
  text-overflow: ellipsis;
}


/* ====== GENERAL LAYOUT FIX ====== */

/* 1. Make sure page content doesn't hide behind header/hero */
body {
  margin: 0;
  padding: 0;
  overflow-x: auto; /* allow horizontal scroll when needed */
  background-color: #0b0b14; /* optional dark bg for contrast */
}

/* 2. Fix hero/left panel */
.hero, .sidebar, .purple-section {
  position: relative;
  z-index: 1;
}

/* 3. Fix the algorithm/card panel that overlaps */
.card, .algorithm-box, .info-box {
  position: relative;
  z-index: 5;       /* sits above backgrounds */
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  padding: 16px;
}

/* 4. Ensure data table appears below cards cleanly */
.table-section, table {
  position: relative;
  z-index: 2;
  background: #111827;
  color: #e5e7eb;
  padding: 24px;
}

/* 5. If you have a fixed header or hero banner */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 80px;       /* adjust as needed */
  z-index: 10;
}

/* Give space below fixed header */
main, .content {
  padding-top: 100px; /* same as header height */
}

/* 6. Optional readability overlay fix */
.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.5),
    rgba(0, 0, 0, 0)
  );
  z-index: 1;
}
.hero * {
  position: relative;
  z-index: 2; /* ensures text is above gradient */
}
